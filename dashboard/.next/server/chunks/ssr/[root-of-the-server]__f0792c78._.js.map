{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/saman/OneDrive/Desktop/OnlineStore/dashboard/src/lib/api.js"],"sourcesContent":["//src/lib/api.js\r\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL || 'http://localhost:3000/api';\r\n\r\n/**\r\n * Fetches all products from the API\r\n * @returns {Promise<Array>} Array of products\r\n * @throws {Error} If the request fails\r\n */\r\nconst fetchProducts = async () => {\r\n  try {\r\n    const response = await fetch(`${API_BASE_URL}/products`, {\r\n      cache: 'no-store' // Important for fresh data\r\n    });\r\n    \r\n    if (!response.ok) {\r\n      const errorData = await response.json().catch(() => ({}));\r\n      throw new Error(errorData.message || 'Failed to fetch products');\r\n    }\r\n    \r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('fetchProducts error:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Fetches a single product by ID\r\n * @param {string} id - Product ID\r\n * @returns {Promise<Object>} Product data\r\n * @throws {Error} If the request fails\r\n */\r\nconst fetchProductById = async (id) => {\r\n  try {\r\n    if (!id) {\r\n      throw new Error('Product ID is required');\r\n    }\r\n\r\n    const response = await fetch(`${API_BASE_URL}/products/${id}`, {\r\n      cache: 'no-store'\r\n    });\r\n    \r\n    if (!response.ok) {\r\n      const errorData = await response.json().catch(() => ({}));\r\n      throw new Error(errorData.message || `Product ${id} not found`);\r\n    }\r\n    \r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error(`fetchProductById error for ID ${id}:`, error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Fetches all orders (admin only)\r\n * @returns {Promise<Array>} Array of orders\r\n * @throws {Error} If the request fails\r\n */\r\nconst fetchOrders = async () => {\r\n  try {\r\n    const response = await fetch(`${API_BASE_URL}/orders`, {\r\n      headers: {\r\n        'Authorization': `Bearer ${process.env.NEXT_PUBLIC_ADMIN_SECRET}`\r\n      },\r\n      cache: 'no-store'\r\n    });\r\n    \r\n    if (!response.ok) {\r\n      const errorData = await response.json().catch(() => ({}));\r\n      throw new Error(errorData.message || 'Failed to fetch orders');\r\n    }\r\n    \r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('fetchOrders error:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Creates a new product\r\n * @param {Object} productData - Product data to create\r\n * @returns {Promise<Object>} Created product\r\n * @throws {Error} If the request fails\r\n */\r\nconst createProduct = async (productData) => {\r\n  try {\r\n    const response = await fetch(`${API_BASE_URL}/admin/products`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${process.env.NEXT_PUBLIC_ADMIN_SECRET}`\r\n      },\r\n      body: JSON.stringify(productData)\r\n    });\r\n    \r\n    if (!response.ok) {\r\n      const errorData = await response.json().catch(() => ({}));\r\n      throw new Error(errorData.message || 'Failed to create product');\r\n    }\r\n    \r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('createProduct error:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Updates an existing product\r\n * @param {string} id - Product ID to update\r\n * @param {Object} productData - Updated product data\r\n * @returns {Promise<Object>} Updated product\r\n * @throws {Error} If the request fails\r\n */\r\nconst updateProduct = async (id, productData) => {\r\n  try {\r\n    const response = await fetch(`${API_BASE_URL}/admin/products/${id}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${process.env.NEXT_PUBLIC_ADMIN_SECRET}`\r\n      },\r\n      body: JSON.stringify(productData)\r\n    });\r\n    \r\n    if (!response.ok) {\r\n      const errorData = await response.json().catch(() => ({}));\r\n      throw new Error(errorData.message || 'Failed to update product');\r\n    }\r\n    \r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error(`updateProduct error for ID ${id}:`, error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Deletes a product\r\n * @param {string} id - Product ID to delete\r\n * @returns {Promise<Object>} Deletion confirmation\r\n * @throws {Error} If the request fails\r\n */\r\nconst deleteProduct = async (id) => {\r\n  try {\r\n    const response = await fetch(`${API_BASE_URL}/admin/products/${id}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Authorization': `Bearer ${process.env.NEXT_PUBLIC_ADMIN_SECRET}`\r\n      }\r\n    });\r\n    \r\n    if (!response.ok) {\r\n      const errorData = await response.json().catch(() => ({}));\r\n      throw new Error(errorData.message || 'Failed to delete product');\r\n    }\r\n    \r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error(`deleteProduct error for ID ${id}:`, error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Explicit named exports\r\nexport {\r\n  fetchProducts,\r\n  fetchProductById,\r\n  fetchOrders,\r\n  createProduct,\r\n  updateProduct,\r\n  deleteProduct\r\n};\r\n\r\n// Default export\r\nexport default {\r\n  fetchProducts,\r\n  fetchProductById,\r\n  fetchOrders,\r\n  createProduct,\r\n  updateProduct,\r\n  deleteProduct\r\n};"],"names":[],"mappings":"AAAA,gBAAgB;;;;;;;;;;AAChB,MAAM,eAAe,iEAAwC;AAE7D;;;;CAIC,GACD,MAAM,gBAAgB;IACpB,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,GAAG,aAAa,SAAS,CAAC,EAAE;YACvD,OAAO,WAAW,2BAA2B;QAC/C;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,YAAY,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;YACvD,MAAM,IAAI,MAAM,UAAU,OAAO,IAAI;QACvC;QAEA,OAAO,MAAM,SAAS,IAAI;IAC5B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB;QACtC,MAAM;IACR;AACF;AAEA;;;;;CAKC,GACD,MAAM,mBAAmB,OAAO;IAC9B,IAAI;QACF,IAAI,CAAC,IAAI;YACP,MAAM,IAAI,MAAM;QAClB;QAEA,MAAM,WAAW,MAAM,MAAM,GAAG,aAAa,UAAU,EAAE,IAAI,EAAE;YAC7D,OAAO;QACT;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,YAAY,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;YACvD,MAAM,IAAI,MAAM,UAAU,OAAO,IAAI,CAAC,QAAQ,EAAE,GAAG,UAAU,CAAC;QAChE;QAEA,OAAO,MAAM,SAAS,IAAI;IAC5B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,8BAA8B,EAAE,GAAG,CAAC,CAAC,EAAE;QACtD,MAAM;IACR;AACF;AAEA;;;;CAIC,GACD,MAAM,cAAc;IAClB,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,GAAG,aAAa,OAAO,CAAC,EAAE;YACrD,SAAS;gBACP,iBAAiB,CAAC,OAAO,4DAAwC;YACnE;YACA,OAAO;QACT;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,YAAY,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;YACvD,MAAM,IAAI,MAAM,UAAU,OAAO,IAAI;QACvC;QAEA,OAAO,MAAM,SAAS,IAAI;IAC5B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,sBAAsB;QACpC,MAAM;IACR;AACF;AAEA;;;;;CAKC,GACD,MAAM,gBAAgB,OAAO;IAC3B,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,GAAG,aAAa,eAAe,CAAC,EAAE;YAC7D,QAAQ;YACR,SAAS;gBACP,gBAAgB;gBAChB,iBAAiB,CAAC,OAAO,4DAAwC;YACnE;YACA,MAAM,KAAK,SAAS,CAAC;QACvB;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,YAAY,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;YACvD,MAAM,IAAI,MAAM,UAAU,OAAO,IAAI;QACvC;QAEA,OAAO,MAAM,SAAS,IAAI;IAC5B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB;QACtC,MAAM;IACR;AACF;AAEA;;;;;;CAMC,GACD,MAAM,gBAAgB,OAAO,IAAI;IAC/B,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,GAAG,aAAa,gBAAgB,EAAE,IAAI,EAAE;YACnE,QAAQ;YACR,SAAS;gBACP,gBAAgB;gBAChB,iBAAiB,CAAC,OAAO,4DAAwC;YACnE;YACA,MAAM,KAAK,SAAS,CAAC;QACvB;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,YAAY,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;YACvD,MAAM,IAAI,MAAM,UAAU,OAAO,IAAI;QACvC;QAEA,OAAO,MAAM,SAAS,IAAI;IAC5B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,2BAA2B,EAAE,GAAG,CAAC,CAAC,EAAE;QACnD,MAAM;IACR;AACF;AAEA;;;;;CAKC,GACD,MAAM,gBAAgB,OAAO;IAC3B,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,GAAG,aAAa,gBAAgB,EAAE,IAAI,EAAE;YACnE,QAAQ;YACR,SAAS;gBACP,iBAAiB,CAAC,OAAO,4DAAwC;YACnE;QACF;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,YAAY,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;YACvD,MAAM,IAAI,MAAM,UAAU,OAAO,IAAI;QACvC;QAEA,OAAO,MAAM,SAAS,IAAI;IAC5B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,2BAA2B,EAAE,GAAG,CAAC,CAAC,EAAE;QACnD,MAAM;IACR;AACF;;uCAae;IACb;IACA;IACA;IACA;IACA;IACA;AACF","debugId":null}},
    {"offset": {"line": 184, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/saman/OneDrive/Desktop/OnlineStore/dashboard/src/app/dashboard/products/page.js"],"sourcesContent":["//app/dashboard/products/page.js\r\nimport Link from 'next/link';\r\nimport { fetchProducts } from '@/lib/api';\r\n\r\nexport default async function ProductsPage() {\r\n  const products = await fetchProducts();\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h1 className=\"text-2xl font-bold\">Products Management</h1>\r\n        <Link \r\n          href=\"/dashboard/products/add\" \r\n          className=\"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700\"\r\n        >\r\n          Add New Product\r\n        </Link>\r\n      </div>\r\n\r\n      <div className=\"bg-white rounded-lg shadow overflow-hidden\">\r\n        <table className=\"min-w-full divide-y divide-gray-200\">\r\n          <thead className=\"bg-gray-50\">\r\n            <tr>\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Name</th>\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Price</th>\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Stock</th>\r\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"bg-white divide-y divide-gray-200\">\r\n            {products.map((product) => (\r\n              <tr key={product._id}>\r\n                <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                  <div className=\"flex items-center\">\r\n                    <div className=\"flex-shrink-0 h-10 w-10\">\r\n                      <img className=\"h-10 w-10 rounded-full\" src={product.imageUrl} alt={product.name} />\r\n                    </div>\r\n                    <div className=\"ml-4\">\r\n                      <div className=\"text-sm font-medium text-gray-900\">{product.name}</div>\r\n                      <div className=\"text-sm text-gray-500\">{product.categories?.join(', ')}</div>\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                  ${product.price}\r\n                </td>\r\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                  {product.stock || 0}\r\n                </td>\r\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                  <Link \r\n                    href={`/dashboard/products/edit/${product._id}`}\r\n                    className=\"text-blue-600 hover:text-blue-900 mr-4\"\r\n                  >\r\n                    Edit\r\n                  </Link>\r\n                  <button className=\"text-red-600 hover:text-red-900\">Delete</button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\n\r\n"],"names":[],"mappings":"AAAA,gCAAgC;;;;;AAChC;AACA;;;;AAEe,eAAe;IAC5B,MAAM,WAAW,MAAM,CAAA,GAAA,iHAAA,CAAA,gBAAa,AAAD;IAEnC,qBACE;;0BACE,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAqB;;;;;;kCACnC,8OAAC,4JAAA,CAAA,UAAI;wBACH,MAAK;wBACL,WAAU;kCACX;;;;;;;;;;;;0BAKH,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAM,WAAU;;sCACf,8OAAC;4BAAM,WAAU;sCACf,cAAA,8OAAC;;kDACC,8OAAC;wCAAG,WAAU;kDAAiF;;;;;;kDAC/F,8OAAC;wCAAG,WAAU;kDAAiF;;;;;;kDAC/F,8OAAC;wCAAG,WAAU;kDAAiF;;;;;;kDAC/F,8OAAC;wCAAG,WAAU;kDAAiF;;;;;;;;;;;;;;;;;sCAGnG,8OAAC;4BAAM,WAAU;sCACd,SAAS,GAAG,CAAC,CAAC,wBACb,8OAAC;;sDACC,8OAAC;4CAAG,WAAU;sDACZ,cAAA,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAI,WAAU;kEACb,cAAA,8OAAC;4DAAI,WAAU;4DAAyB,KAAK,QAAQ,QAAQ;4DAAE,KAAK,QAAQ,IAAI;;;;;;;;;;;kEAElF,8OAAC;wDAAI,WAAU;;0EACb,8OAAC;gEAAI,WAAU;0EAAqC,QAAQ,IAAI;;;;;;0EAChE,8OAAC;gEAAI,WAAU;0EAAyB,QAAQ,UAAU,EAAE,KAAK;;;;;;;;;;;;;;;;;;;;;;;sDAIvE,8OAAC;4CAAG,WAAU;;gDAAoD;gDAC9D,QAAQ,KAAK;;;;;;;sDAEjB,8OAAC;4CAAG,WAAU;sDACX,QAAQ,KAAK,IAAI;;;;;;sDAEpB,8OAAC;4CAAG,WAAU;;8DACZ,8OAAC,4JAAA,CAAA,UAAI;oDACH,MAAM,CAAC,yBAAyB,EAAE,QAAQ,GAAG,EAAE;oDAC/C,WAAU;8DACX;;;;;;8DAGD,8OAAC;oDAAO,WAAU;8DAAkC;;;;;;;;;;;;;mCAzB/C,QAAQ,GAAG;;;;;;;;;;;;;;;;;;;;;;;AAkClC","debugId":null}}]
}