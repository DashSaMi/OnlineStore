{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/saman/OneDrive/Desktop/OnlineStore/dashboard/src/lib/api/products.js"],"sourcesContent":["const API_BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL || 'http://localhost:3000';\r\n\r\n// Helper function for API requests\r\nasync function makeRequest(endpoint, method = 'GET', body = null) {\r\n  const headers = {\r\n    'Content-Type': 'application/json',\r\n  };\r\n\r\n  // Add authorization header if needed\r\n  if (process.env.ADMIN_SECRET) {\r\n    headers['Authorization'] = `Bearer ${process.env.ADMIN_SECRET}`;\r\n  }\r\n\r\n  const config = {\r\n    method,\r\n    headers,\r\n    cache: 'no-store',\r\n    credentials: 'include' // Important for CORS with credentials\r\n  };\r\n\r\n  if (body) {\r\n    config.body = JSON.stringify(body);\r\n  }\r\n\r\n  try {\r\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, config);\r\n    \r\n    if (!response.ok) {\r\n      const errorData = await response.json().catch(() => ({}));\r\n      throw new Error(errorData.message || errorData.error || `HTTP error! status: ${response.status}`);\r\n    }\r\n\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error(`API Error (${method} ${endpoint}):`, error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n// Fetch all products\r\nexport async function fetchProducts() {\r\n  return makeRequest('/api/products');\r\n}\r\n\r\n// Fetch single product by ID\r\nexport async function fetchProductById(id) {\r\n  return makeRequest(`/api/products/${id}`);\r\n}\r\n\r\n// Create new product\r\nexport async function createProduct(productData) {\r\n  const response = await fetch('/api/products', {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${await getSessionToken()}` // Implement your token retrieval\r\n    },\r\n    body: JSON.stringify(productData)\r\n  });\r\n\r\n  if (!response.ok) {\r\n    throw new Error('Failed to create product');\r\n  }\r\n\r\n  return response.json();\r\n}\r\n// Update existing product\r\nexport async function updateProduct(id, productData) {\r\n  return makeRequest(`/api/products/${id}`, 'PUT', productData);\r\n}\r\n\r\n// Delete product\r\nexport async function deleteProduct(id) {\r\n  return makeRequest(`/api/products/${id}`, 'DELETE');\r\n}"],"names":[],"mappings":";;;;;;;AAAA,MAAM,eAAe,6DAAwC;AAE7D,mCAAmC;AACnC,eAAe,YAAY,QAAQ,EAAE,SAAS,KAAK,EAAE,OAAO,IAAI;IAC9D,MAAM,UAAU;QACd,gBAAgB;IAClB;IAEA,qCAAqC;IACrC,IAAI,QAAQ,GAAG,CAAC,YAAY,EAAE;QAC5B,OAAO,CAAC,gBAAgB,GAAG,CAAC,OAAO,EAAE,QAAQ,GAAG,CAAC,YAAY,EAAE;IACjE;IAEA,MAAM,SAAS;QACb;QACA;QACA,OAAO;QACP,aAAa,UAAU,sCAAsC;IAC/D;IAEA,IAAI,MAAM;QACR,OAAO,IAAI,GAAG,KAAK,SAAS,CAAC;IAC/B;IAEA,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,GAAG,eAAe,UAAU,EAAE;QAE3D,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,YAAY,MAAM,SAAS,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;YACvD,MAAM,IAAI,MAAM,UAAU,OAAO,IAAI,UAAU,KAAK,IAAI,CAAC,oBAAoB,EAAE,SAAS,MAAM,EAAE;QAClG;QAEA,OAAO,MAAM,SAAS,IAAI;IAC5B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,WAAW,EAAE,OAAO,CAAC,EAAE,SAAS,EAAE,CAAC,EAAE;QACpD,MAAM;IACR;AACF;AAGO,eAAe;IACpB,OAAO,YAAY;AACrB;AAGO,eAAe,iBAAiB,EAAE;IACvC,OAAO,YAAY,CAAC,cAAc,EAAE,IAAI;AAC1C;AAGO,eAAe,cAAc,WAAW;IAC7C,MAAM,WAAW,MAAM,MAAM,iBAAiB;QAC5C,QAAQ;QACR,SAAS;YACP,gBAAgB;YAChB,iBAAiB,CAAC,OAAO,EAAE,MAAM,mBAAmB,CAAC,iCAAiC;QACxF;QACA,MAAM,KAAK,SAAS,CAAC;IACvB;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO,SAAS,IAAI;AACtB;AAEO,eAAe,cAAc,EAAE,EAAE,WAAW;IACjD,OAAO,YAAY,CAAC,cAAc,EAAE,IAAI,EAAE,OAAO;AACnD;AAGO,eAAe,cAAc,EAAE;IACpC,OAAO,YAAY,CAAC,cAAc,EAAE,IAAI,EAAE;AAC5C","debugId":null}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/saman/OneDrive/Desktop/OnlineStore/dashboard/src/app/dashboard/products/page.js"],"sourcesContent":["\r\nimport Link from 'next/link';\r\nimport { fetchProducts } from '@/lib/api/products';\r\n\r\nexport default async function ProductsPage() {\r\n  try {\r\n    // Make sure to handle the response structure correctly\r\n    const response = await fetchProducts();\r\n    const products = response.products || response.data || response;\r\n\r\n    if (!products || products.length === 0) {\r\n      return (\r\n        <div className=\"p-6\">\r\n          <div className=\"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4\">\r\n            <p>No products found</p>\r\n            <Link href=\"/dashboard/products/add\" className=\"text-blue-600 hover:underline\">\r\n              Add a new product\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n        <div className=\"p-6\">\r\n        <div className=\"bg-red-50 border-l-4 border-red-400 p-4\">\r\n          <div className=\"flex\">\r\n            <div className=\"ml-3\">\r\n            \r\n              <button \r\n                onClick={() => window.location.reload()}\r\n                className=\"mt-2 inline-flex items-center px-3 py-1 border border-transparent text-sm leading-4 font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none\"\r\n              >\r\n                Retry\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  } catch (error) {\r\n    console.error('Error loading products:', error);\r\n    return (\r\n      <div className=\"p-6\">\r\n        <div className=\"bg-red-100 border-l-4 border-red-500 text-red-700 p-4\">\r\n          <p>Error loading products: {error.message}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}"],"names":[],"mappings":";;;;AACA;AACA;;;;AAEe,eAAe;IAC5B,IAAI;QACF,uDAAuD;QACvD,MAAM,WAAW,MAAM,CAAA,GAAA,6HAAA,CAAA,gBAAa,AAAD;QACnC,MAAM,WAAW,SAAS,QAAQ,IAAI,SAAS,IAAI,IAAI;QAEvD,IAAI,CAAC,YAAY,SAAS,MAAM,KAAK,GAAG;YACtC,qBACE,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;sCAAE;;;;;;sCACH,8OAAC,4JAAA,CAAA,UAAI;4BAAC,MAAK;4BAA0B,WAAU;sCAAgC;;;;;;;;;;;;;;;;;QAMvF;QAEA,qBACI,8OAAC;YAAI,WAAU;sBACf,cAAA,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;kCAEb,cAAA,8OAAC;4BACC,SAAS,IAAM,OAAO,QAAQ,CAAC,MAAM;4BACrC,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;;;;IAQb,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;;wBAAE;wBAAyB,MAAM,OAAO;;;;;;;;;;;;;;;;;IAIjD;AACF","debugId":null}}]
}