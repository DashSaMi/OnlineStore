{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/saman/OneDrive/Desktop/OnlineStore/dashboard/src/app/dashboard/products/components/SortControls.js/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/dashboard/products/components/SortControls.js <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/dashboard/products/components/SortControls.js <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,6OAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAyT,GACtV,uFACA","debugId":null}},
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/saman/OneDrive/Desktop/OnlineStore/dashboard/src/app/dashboard/products/components/SortControls.js/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/dashboard/products/components/SortControls.js from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/dashboard/products/components/SortControls.js\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,6OAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAqS,GAClU,mEACA","debugId":null}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/saman/OneDrive/Desktop/OnlineStore/dashboard/src/app/dashboard/products/components/ProductDeleteButton.js/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/dashboard/products/components/ProductDeleteButton.js <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/dashboard/products/components/ProductDeleteButton.js <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,6OAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAgU,GAC7V,8FACA","debugId":null}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/saman/OneDrive/Desktop/OnlineStore/dashboard/src/app/dashboard/products/components/ProductDeleteButton.js/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/dashboard/products/components/ProductDeleteButton.js from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/dashboard/products/components/ProductDeleteButton.js\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,6OAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA4S,GACzU,0EACA","debugId":null}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 86, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/saman/OneDrive/Desktop/OnlineStore/dashboard/src/app/dashboard/products/page.js"],"sourcesContent":["import SortControls from './components/SortControls';\r\nimport Link from 'next/link';\r\nimport ProductDeleteButton from './components/ProductDeleteButton';\r\n\r\nconst PAGE_SIZE = 6;\r\n\r\nexport default async function ProductsPage({ searchParams }) {\r\n  let products = [];\r\n  let error = null;\r\n  const sort = searchParams?.sort || 'createdAt';\r\n  const order = searchParams?.order || 'desc';\r\n  const page = parseInt(searchParams?.page || '1', 10);\r\n\r\n  let total = 0;\r\n  let totalPages = 1;\r\n\r\n  try {\r\n    const res = await fetch(`http://localhost:3000/api/products?sort=${sort}&order=${order}&limit=${PAGE_SIZE}&page=${page}`, { cache: 'no-store' });\r\n    if (!res.ok) {\r\n      throw new Error(`Failed to fetch products: ${res.status}`);\r\n    }\r\n    const data = await res.json();\r\n    products = Array.isArray(data.data) ? data.data : (Array.isArray(data.products) ? data.products : []);\r\n    total = data.pagination?.total || products.length;\r\n    totalPages = data.pagination?.totalPages || Math.ceil(total / PAGE_SIZE);\r\n  } catch (err) {\r\n    error = err.message;\r\n  }\r\n\r\n  return (\r\n    <div className=\"py-6 space-y-8\">\r\n      <div className=\"flex items-center justify-between mb-6\">\r\n        <h1 className=\"text-3xl font-bold text-gray-900\">Products</h1>\r\n        <Link href=\"/dashboard/products/new\" className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition\">Add New Product</Link>\r\n      </div>\r\n      <SortControls />\r\n      {error ? (\r\n        <div className=\"p-4 text-red-600\">Error: {error}</div>\r\n      ) : products.length === 0 ? (\r\n        <div className=\"text-gray-600\">No products found.</div>\r\n      ) : (\r\n        <>\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-3 gap-6\">\r\n            {products.map(product => (\r\n              <div key={product._id} className=\"bg-white shadow-lg rounded-xl p-6 flex flex-col border border-gray-100 hover:shadow-2xl transition-all\">\r\n                <div className=\"font-semibold text-lg mb-2 truncate\" title={product.name}>{product.name}</div>\r\n                <div className=\"text-gray-700 mb-1\">Price: <span className=\"font-bold\">{product.price?.toLocaleString?.() ?? product.price}</span> Toman</div>\r\n                <div className=\"text-gray-500 text-sm mb-2\">Stock: {product.stock}</div>\r\n                {product.imageUrl && (\r\n                  <img src={product.imageUrl} alt={product.name} className=\"h-32 object-contain mb-2 rounded border bg-gray-50\" />\r\n                )}\r\n                <div className=\"text-xs text-gray-400 mb-2\">ID: {product._id}</div>\r\n                <div className=\"flex gap-2 mt-auto\">\r\n                  <Link href={`/dashboard/products/edit/${product._id}`} className=\"px-3 py-1 bg-yellow-500 text-white rounded hover:bg-yellow-600 text-center\">Edit</Link>\r\n                  <ProductDeleteButton productId={product._id} />\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          {/* Pagination Controls */}\r\n          <div className=\"flex justify-center mt-8 gap-2\">\r\n            {Array.from({ length: totalPages }, (_, i) => (\r\n              <Link\r\n                key={i + 1}\r\n                href={`?${new URLSearchParams({\r\n                  ...Object.fromEntries(Object.entries(searchParams || {}).filter(([k]) => typeof k === 'string')),\r\n                  page: (i + 1).toString()\r\n                }).toString()}`}\r\n                className={`px-3 py-1 rounded border ${page === i + 1 ? 'bg-blue-600 text-white border-blue-600' : 'bg-white text-gray-700 border-gray-300 hover:bg-blue-50'}`}\r\n              >\r\n                {i + 1}\r\n              </Link>\r\n            ))}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}