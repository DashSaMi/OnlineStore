{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/saman/OneDrive/Desktop/OnlineStore/dashboard/src/app/dashboard/actions.js"],"sourcesContent":["// src/app/dashboard/actions.js\r\n'use server';\r\n\r\nexport async function fetchOrdersServer() {\r\n  try {\r\n    const response = await fetch('http://localhost:3000/api/orders', { // Note: Changed to main app's URL\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': `Bearer ${process.env.ADMIN_SECRET}`\r\n      },\r\n      cache: 'no-store'\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorData = await response.json();\r\n      throw new Error(errorData.message || `HTTP error! status: ${response.status}`);\r\n    }\r\n\r\n    const data = await response.json();\r\n    return data.data; // Changed from data.orders to data.data to match our API response\r\n  } catch (error) {\r\n    console.error('Failed to fetch orders:', error);\r\n    throw new Error(error.message || 'Could not load orders data');\r\n  }\r\n}"],"names":[],"mappings":"AAAA,+BAA+B;;;;;;;;;AAGxB,eAAe;IACpB,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,oCAAoC;YAC/D,QAAQ;YACR,SAAS;gBACP,iBAAiB,CAAC,OAAO,EAAE,QAAQ,GAAG,CAAC,YAAY,EAAE;YACvD;YACA,OAAO;QACT;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,YAAY,MAAM,SAAS,IAAI;YACrC,MAAM,IAAI,MAAM,UAAU,OAAO,IAAI,CAAC,oBAAoB,EAAE,SAAS,MAAM,EAAE;QAC/E;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,OAAO,KAAK,IAAI,EAAE,kEAAkE;IACtF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;IACnC;AACF;;;IArBsB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 43, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/saman/OneDrive/Desktop/OnlineStore/dashboard/.next-internal/server/app/dashboard/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {fetchOrdersServer as '008359a29d176b09276ec8237008a8d0636a59e747'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/saman/OneDrive/Desktop/OnlineStore/dashboard/src/app/dashboard/page.js"],"sourcesContent":["// src/app/dashboard/page.js\r\nimport { fetchOrdersServer } from './actions';\r\nimport dynamic from 'next/dynamic';\r\n\r\nconst ResponsiveContainer = dynamic(() => import('recharts').then(mod => mod.ResponsiveContainer), { ssr: false });\r\nconst LineChart = dynamic(() => import('recharts').then(mod => mod.LineChart), { ssr: false });\r\nconst Line = dynamic(() => import('recharts').then(mod => mod.Line), { ssr: false });\r\nconst XAxis = dynamic(() => import('recharts').then(mod => mod.XAxis), { ssr: false });\r\nconst YAxis = dynamic(() => import('recharts').then(mod => mod.YAxis), { ssr: false });\r\nconst Tooltip = dynamic(() => import('recharts').then(mod => mod.Tooltip), { ssr: false });\r\nconst CartesianGrid = dynamic(() => import('recharts').then(mod => mod.CartesianGrid), { ssr: false });\r\n\r\nfunction getSummary(orders) {\r\n  let totalSales = 0;\r\n  let totalOrders = orders.length;\r\n  let salesByDate = {};\r\n  orders.forEach(order => {\r\n    const date = new Date(order.createdAt).toLocaleDateString();\r\n    totalSales += order.total || 0;\r\n    salesByDate[date] = (salesByDate[date] || 0) + (order.total || 0);\r\n  });\r\n  const salesData = Object.entries(salesByDate).map(([date, total]) => ({ date, total }));\r\n  return { totalSales, totalOrders, salesData };\r\n}\r\n\r\nexport default async function DashboardPage() {\r\n  try {\r\n    const orders = await fetchOrdersServer();\r\n    const { totalSales, totalOrders, salesData } = getSummary(orders);\r\n    return (\r\n      <div className=\"py-6 space-y-8\">\r\n        <h1 className=\"text-3xl font-bold mb-6 text-gray-900\">Dashboard Overview</h1>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n          <div className=\"bg-white shadow rounded-lg p-6 flex flex-col items-center\">\r\n            <span className=\"text-gray-500 text-sm\">Total Orders</span>\r\n            <span className=\"text-2xl font-bold text-blue-700 mt-2\">{totalOrders}</span>\r\n          </div>\r\n          <div className=\"bg-white shadow rounded-lg p-6 flex flex-col items-center\">\r\n            <span className=\"text-gray-500 text-sm\">Total Sales</span>\r\n            <span className=\"text-2xl font-bold text-green-700 mt-2\">${totalSales.toLocaleString()}</span>\r\n          </div>\r\n          {/* Add more summary cards as needed */}\r\n        </div>\r\n        <div className=\"bg-white shadow rounded-lg p-6\">\r\n          <h2 className=\"text-lg font-semibold mb-4 text-gray-800\">Sales Over Time</h2>\r\n          <div className=\"w-full h-72\">\r\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n              <LineChart data={salesData} margin={{ top: 10, right: 30, left: 0, bottom: 0 }}>\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <XAxis dataKey=\"date\" />\r\n                <YAxis />\r\n                <Tooltip />\r\n                <Line type=\"monotone\" dataKey=\"total\" stroke=\"#2563eb\" strokeWidth={2} dot={false} />\r\n              </LineChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  } catch (error) {\r\n    return (\r\n      <div className=\"p-4 text-red-600\">\r\n        Error: {error.message}\r\n        <div className=\"mt-2 text-sm text-gray-600\">\r\n          Check your server logs and ensure ADMIN_SECRET is set correctly in both apps.\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}